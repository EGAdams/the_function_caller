<!DOCTYPE html>
<html>
    <head>
        <title>
            My Webpage
        </title>
        <body>
            <article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto">MCP Python SDK</h1><a id="user-content-mcp-python-sdk" class="anchor" aria-label="Permalink: MCP Python SDK" href="#mcp-python-sdk"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
                <p dir="auto"><a href="https://pypi.org/project/mcp/" rel="nofollow"><img src="https://camo.githubusercontent.com/e6ba71e25e692956bce8d9b0b4e043d9b7171186941670af455088139928be55/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f6d63702e737667" alt="PyPI" data-canonical-src="https://img.shields.io/pypi/v/mcp.svg" style="max-width: 100%;"></a>
                <a href="https://github.com/modelcontextprotocol/python-sdk/blob/main/LICENSE"><img src="https://camo.githubusercontent.com/98147347f1be2b00361083e2aac1a18781acb3109ca688b1cd1940980e9f1201/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f6d63702e737667" alt="MIT licensed" data-canonical-src="https://img.shields.io/pypi/l/mcp.svg" style="max-width: 100%;"></a>
                <a href="https://www.python.org/downloads/" rel="nofollow"><img src="https://camo.githubusercontent.com/b33b4fb36a9335985026e9b5b20cf5b1e548b7fff9f215b25abd31c9eaaa04ff/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f6d63702e737667" alt="Python Version" data-canonical-src="https://img.shields.io/pypi/pyversions/mcp.svg" style="max-width: 100%;"></a>
                <a href="https://modelcontextprotocol.io" rel="nofollow"><img src="https://camo.githubusercontent.com/301bdc40b0f2893b417e920988f8aac322e3adab80c8a6c32657286f4aaf3a48/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d6d6f64656c636f6e7465787470726f746f636f6c2e696f2d626c75652e737667" alt="Documentation" data-canonical-src="https://img.shields.io/badge/docs-modelcontextprotocol.io-blue.svg" style="max-width: 100%;"></a>
                <a href="https://spec.modelcontextprotocol.io" rel="nofollow"><img src="https://camo.githubusercontent.com/0e20327998ce56e7a24c9b61227bb10976c5c3b6188551c2bd37e357ad67e7da/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f737065632d737065632e6d6f64656c636f6e7465787470726f746f636f6c2e696f2d626c75652e737667" alt="Specification" data-canonical-src="https://img.shields.io/badge/spec-spec.modelcontextprotocol.io-blue.svg" style="max-width: 100%;"></a>
                <a href="https://github.com/modelcontextprotocol/python-sdk/discussions"><img src="https://camo.githubusercontent.com/587d3a9857dcc52c6f99b5109e13afc68542ab73eb8160f6a36722bd83a2cb1b/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f64697363757373696f6e732f6d6f64656c636f6e7465787470726f746f636f6c2f707974686f6e2d73646b" alt="GitHub Discussions" data-canonical-src="https://img.shields.io/github/discussions/modelcontextprotocol/python-sdk" style="max-width: 100%;"></a></p>
                <p dir="auto">Python implementation of the <a href="https://modelcontextprotocol.io" rel="nofollow">Model Context Protocol</a> (MCP), providing both client and server capabilities for integrating with LLM surfaces.</p>
                <div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Overview</h2><a id="user-content-overview" class="anchor" aria-label="Permalink: Overview" href="#overview"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
                <p dir="auto">The Model Context Protocol allows applications to provide context for LLMs in a standardized way, separating the concerns of providing context from the actual LLM interaction. This Python SDK implements the full MCP specification, making it easy to:</p>
                <ul dir="auto">
                <li>Build MCP clients that can connect to any MCP server</li>
                <li>Create MCP servers that expose resources, prompts and tools</li>
                <li>Use standard transports like stdio and SSE</li>
                <li>Handle all MCP protocol messages and lifecycle events</li>
                </ul>
                <div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Installation</h2><a id="user-content-installation" class="anchor" aria-label="Permalink: Installation" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
                <p dir="auto">We recommend the use of <a href="https://docs.astral.sh/uv/" rel="nofollow">uv</a> to manage your Python projects:</p>
                <div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>uv add mcp</pre><div class="zeroclipboard-container">
                    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="uv add mcp" tabindex="0" role="button">
                      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
                    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
                </svg>
                      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
                    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
                </svg>
                    </clipboard-copy>
                  </div></div>
                <p dir="auto">Alternatively, add mcp to your <code>requirements.txt</code>:</p>
                <div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>pip install mcp
                # or add to requirements.txt
                pip install -r requirements.txt
                </code></pre><div class="zeroclipboard-container">
                    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="pip install mcp
                # or add to requirements.txt
                pip install -r requirements.txt" tabindex="0" role="button">
                      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
                    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
                </svg>
                      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
                    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
                </svg>
                    </clipboard-copy>
                  </div></div>
                <div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Overview</h2><a id="user-content-overview-1" class="anchor" aria-label="Permalink: Overview" href="#overview-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
                <p dir="auto">MCP servers provide focused functionality like resources, tools, prompts, and other capabilities that can be reused across many client applications. These servers are designed to be easy to build, highly composable, and modular.</p>
                <div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Key design principles</h3><a id="user-content-key-design-principles" class="anchor" aria-label="Permalink: Key design principles" href="#key-design-principles"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
                <ul dir="auto">
                <li>Servers are extremely easy to build with clear, simple interfaces</li>
                <li>Multiple servers can be composed seamlessly through a shared protocol</li>
                <li>Each server operates in isolation and cannot access conversation context</li>
                <li>Features can be added progressively through capability negotiation</li>
                </ul>
                <div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Server provided primitives</h3><a id="user-content-server-provided-primitives" class="anchor" aria-label="Permalink: Server provided primitives" href="#server-provided-primitives"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
                <ul dir="auto">
                <li><a href="https://modelcontextprotocol.io/docs/concepts/prompts" rel="nofollow">Prompts</a>: Templatable text</li>
                <li><a href="https://modelcontextprotocol.io/docs/concepts/resources" rel="nofollow">Resources</a>: File-like attachments</li>
                <li><a href="https://modelcontextprotocol.io/docs/concepts/tools" rel="nofollow">Tools</a>: Functions that models can call</li>
                <li>Utilities:
                <ul dir="auto">
                <li>Completion: Auto-completion provider for prompt arguments or resource URI templates</li>
                <li>Logging: Logging to the client</li>
                <li>Pagination*: Pagination for long results</li>
                </ul>
                </li>
                </ul>
                <div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Client provided primitives</h3><a id="user-content-client-provided-primitives" class="anchor" aria-label="Permalink: Client provided primitives" href="#client-provided-primitives"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
                <ul dir="auto">
                <li><a href="https://modelcontextprotocol.io/docs/concepts/sampling" rel="nofollow">Sampling</a>: Allow servers to sample using client models</li>
                <li>Roots: Information about locations to operate on (e.g., directories)</li>
                </ul>
                <p dir="auto">Connections between clients and servers are established through transports like <strong>stdio</strong> or <strong>SSE</strong> (Note that most clients support stdio, but not SSE at the moment). The transport layer handles message framing, delivery, and error handling.</p>
                <div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Quick Start</h2><a id="user-content-quick-start" class="anchor" aria-label="Permalink: Quick Start" href="#quick-start"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
                <div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Creating a Server</h3><a id="user-content-creating-a-server" class="anchor" aria-label="Permalink: Creating a Server" href="#creating-a-server"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
                <p dir="auto">MCP servers follow a decorator approach to register handlers for MCP primitives like resources, prompts, and tools. The goal is to provide a simple interface for exposing capabilities to LLM clients.</p>
                <p dir="auto"><strong>example_server.py</strong></p>
                <div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c"># /// script</span>
                <span class="pl-c"># dependencies = [</span>
                <span class="pl-c">#   "mcp"</span>
                <span class="pl-c"># ]</span>
                <span class="pl-c"># ///</span>
                <span class="pl-k">from</span> <span class="pl-s1">mcp</span>.<span class="pl-s1">server</span> <span class="pl-k">import</span> <span class="pl-v">Server</span>, <span class="pl-v">NotificationOptions</span>
                <span class="pl-k">from</span> <span class="pl-s1">mcp</span>.<span class="pl-s1">server</span>.<span class="pl-s1">models</span> <span class="pl-k">import</span> <span class="pl-v">InitializationOptions</span>
                <span class="pl-k">import</span> <span class="pl-s1">mcp</span>.<span class="pl-s1">server</span>.<span class="pl-s1">stdio</span>
                <span class="pl-k">import</span> <span class="pl-s1">mcp</span>.<span class="pl-s1">types</span> <span class="pl-k">as</span> <span class="pl-s1">types</span>
                
                <span class="pl-c"># Create a server instance</span>
                <span class="pl-s1">server</span> <span class="pl-c1">=</span> <span class="pl-en">Server</span>(<span class="pl-s">"example-server"</span>)
                
                <span class="pl-c"># Add prompt capabilities</span>
                <span class="pl-en">@<span class="pl-s1">server</span>.<span class="pl-c1">list_prompts</span>()</span>
                <span class="pl-k">async</span> <span class="pl-k">def</span> <span class="pl-en">handle_list_prompts</span>() <span class="pl-c1">-&gt;</span> <span class="pl-s1">list</span>[<span class="pl-s1">types</span>.<span class="pl-c1">Prompt</span>]:
                    <span class="pl-k">return</span> [
                        <span class="pl-s1">types</span>.<span class="pl-c1">Prompt</span>(
                            <span class="pl-s1">name</span><span class="pl-c1">=</span><span class="pl-s">"example-prompt"</span>,
                            <span class="pl-s1">description</span><span class="pl-c1">=</span><span class="pl-s">"An example prompt template"</span>,
                            <span class="pl-s1">arguments</span><span class="pl-c1">=</span>[
                                <span class="pl-s1">types</span>.<span class="pl-c1">PromptArgument</span>(
                                    <span class="pl-s1">name</span><span class="pl-c1">=</span><span class="pl-s">"arg1"</span>,
                                    <span class="pl-s1">description</span><span class="pl-c1">=</span><span class="pl-s">"Example argument"</span>,
                                    <span class="pl-s1">required</span><span class="pl-c1">=</span><span class="pl-c1">True</span>
                                )
                            ]
                        )
                    ]
                
                <span class="pl-en">@<span class="pl-s1">server</span>.<span class="pl-c1">get_prompt</span>()</span>
                <span class="pl-k">async</span> <span class="pl-k">def</span> <span class="pl-en">handle_get_prompt</span>(
                    <span class="pl-s1">name</span>: <span class="pl-smi">str</span>,
                    <span class="pl-s1">arguments</span>: <span class="pl-s1">dict</span>[<span class="pl-smi">str</span>, <span class="pl-smi">str</span>] <span class="pl-c1">|</span> <span class="pl-c1">None</span>
                ) <span class="pl-c1">-&gt;</span> <span class="pl-s1">types</span>.<span class="pl-c1">GetPromptResult</span>:
                    <span class="pl-k">if</span> <span class="pl-s1">name</span> <span class="pl-c1">!=</span> <span class="pl-s">"example-prompt"</span>:
                        <span class="pl-k">raise</span> <span class="pl-en">ValueError</span>(<span class="pl-s">f"Unknown prompt: <span class="pl-s1"><span class="pl-kos">{</span><span class="pl-s1">name</span><span class="pl-kos">}</span></span>"</span>)
                
                    <span class="pl-k">return</span> <span class="pl-s1">types</span>.<span class="pl-c1">GetPromptResult</span>(
                        <span class="pl-s1">description</span><span class="pl-c1">=</span><span class="pl-s">"Example prompt"</span>,
                        <span class="pl-s1">messages</span><span class="pl-c1">=</span>[
                            <span class="pl-s1">types</span>.<span class="pl-c1">PromptMessage</span>(
                                <span class="pl-s1">role</span><span class="pl-c1">=</span><span class="pl-s">"user"</span>,
                                <span class="pl-s1">content</span><span class="pl-c1">=</span><span class="pl-s1">types</span>.<span class="pl-c1">TextContent</span>(
                                    <span class="pl-s1">type</span><span class="pl-c1">=</span><span class="pl-s">"text"</span>,
                                    <span class="pl-s1">text</span><span class="pl-c1">=</span><span class="pl-s">"Example prompt text"</span>
                                )
                            )
                        ]
                    )
                
                <span class="pl-k">async</span> <span class="pl-k">def</span> <span class="pl-en">run</span>():
                    <span class="pl-c"># Run the server as STDIO</span>
                    <span class="pl-k">async</span> <span class="pl-k">with</span> <span class="pl-s1">mcp</span>.<span class="pl-c1">server</span>.<span class="pl-c1">stdio</span>.<span class="pl-c1">stdio_server</span>() <span class="pl-k">as</span> (<span class="pl-s1">read_stream</span>, <span class="pl-s1">write_stream</span>):
                        <span class="pl-k">await</span> <span class="pl-s1">server</span>.<span class="pl-c1">run</span>(
                            <span class="pl-s1">read_stream</span>,
                            <span class="pl-s1">write_stream</span>,
                            <span class="pl-en">InitializationOptions</span>(
                                <span class="pl-s1">server_name</span><span class="pl-c1">=</span><span class="pl-s">"example"</span>,
                                <span class="pl-s1">server_version</span><span class="pl-c1">=</span><span class="pl-s">"0.1.0"</span>,
                                <span class="pl-s1">capabilities</span><span class="pl-c1">=</span><span class="pl-s1">server</span>.<span class="pl-c1">get_capabilities</span>(
                                    <span class="pl-s1">notification_options</span><span class="pl-c1">=</span><span class="pl-en">NotificationOptions</span>(),
                                    <span class="pl-s1">experimental_capabilities</span><span class="pl-c1">=</span>{},
                                )
                            )
                        )
                
                <span class="pl-k">if</span> <span class="pl-s1">__name__</span> <span class="pl-c1">==</span> <span class="pl-s">"__main__"</span>:
                    <span class="pl-k">import</span> <span class="pl-s1">asyncio</span>
                    <span class="pl-s1">asyncio</span>.<span class="pl-c1">run</span>(<span class="pl-en">run</span>())</pre><div class="zeroclipboard-container">
                    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="# /// script
                # dependencies = [
                #   &quot;mcp&quot;
                # ]
                # ///
                from mcp.server import Server, NotificationOptions
                from mcp.server.models import InitializationOptions
                import mcp.server.stdio
                import mcp.types as types
                
                # Create a server instance
                server = Server(&quot;example-server&quot;)
                
                # Add prompt capabilities
                @server.list_prompts()
                async def handle_list_prompts() -> list[types.Prompt]:
                    return [
                        types.Prompt(
                            name=&quot;example-prompt&quot;,
                            description=&quot;An example prompt template&quot;,
                            arguments=[
                                types.PromptArgument(
                                    name=&quot;arg1&quot;,
                                    description=&quot;Example argument&quot;,
                                    required=True
                                )
                            ]
                        )
                    ]
                
                @server.get_prompt()
                async def handle_get_prompt(
                    name: str,
                    arguments: dict[str, str] | None
                ) -> types.GetPromptResult:
                    if name != &quot;example-prompt&quot;:
                        raise ValueError(f&quot;Unknown prompt: {name}&quot;)
                
                    return types.GetPromptResult(
                        description=&quot;Example prompt&quot;,
                        messages=[
                            types.PromptMessage(
                                role=&quot;user&quot;,
                                content=types.TextContent(
                                    type=&quot;text&quot;,
                                    text=&quot;Example prompt text&quot;
                                )
                            )
                        ]
                    )
                
                async def run():
                    # Run the server as STDIO
                    async with mcp.server.stdio.stdio_server() as (read_stream, write_stream):
                        await server.run(
                            read_stream,
                            write_stream,
                            InitializationOptions(
                                server_name=&quot;example&quot;,
                                server_version=&quot;0.1.0&quot;,
                                capabilities=server.get_capabilities(
                                    notification_options=NotificationOptions(),
                                    experimental_capabilities={},
                                )
                            )
                        )
                
                if __name__ == &quot;__main__&quot;:
                    import asyncio
                    asyncio.run(run())" tabindex="0" role="button">
                      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
                    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
                </svg>
                      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
                    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
                </svg>
                    </clipboard-copy>
                  </div></div>
                <div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Creating a Client</h3><a id="user-content-creating-a-client" class="anchor" aria-label="Permalink: Creating a Client" href="#creating-a-client"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
                <p dir="auto"><strong>example_client.py</strong></p>
                <div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">from</span> <span class="pl-s1">mcp</span> <span class="pl-k">import</span> <span class="pl-v">ClientSession</span>, <span class="pl-v">StdioServerParameters</span>
                <span class="pl-k">from</span> <span class="pl-s1">mcp</span>.<span class="pl-s1">client</span>.<span class="pl-s1">stdio</span> <span class="pl-k">import</span> <span class="pl-s1">stdio_client</span>
                
                <span class="pl-c"># Create server parameters for stdio connection</span>
                <span class="pl-s1">server_params</span> <span class="pl-c1">=</span> <span class="pl-en">StdioServerParameters</span>(
                    <span class="pl-s1">command</span><span class="pl-c1">=</span><span class="pl-s">"python"</span>, <span class="pl-c"># Executable</span>
                    <span class="pl-s1">args</span><span class="pl-c1">=</span>[<span class="pl-s">"example_server.py"</span>], <span class="pl-c"># Optional command line arguments</span>
                    <span class="pl-s1">env</span><span class="pl-c1">=</span><span class="pl-c1">None</span> <span class="pl-c"># Optional environment variables</span>
                )
                
                <span class="pl-k">async</span> <span class="pl-k">def</span> <span class="pl-en">run</span>():
                    <span class="pl-k">async</span> <span class="pl-k">with</span> <span class="pl-en">stdio_client</span>(<span class="pl-s1">server_params</span>) <span class="pl-k">as</span> (<span class="pl-s1">read</span>, <span class="pl-s1">write</span>):
                        <span class="pl-k">async</span> <span class="pl-k">with</span> <span class="pl-en">ClientSession</span>(<span class="pl-s1">read</span>, <span class="pl-s1">write</span>) <span class="pl-k">as</span> <span class="pl-s1">session</span>:
                            <span class="pl-c"># Initialize the connection</span>
                            <span class="pl-k">await</span> <span class="pl-s1">session</span>.<span class="pl-c1">initialize</span>()
                
                            <span class="pl-c"># The example server only supports prompt primitives:</span>
                        
                            <span class="pl-c"># List available prompts</span>
                            <span class="pl-s1">prompts</span> <span class="pl-c1">=</span> <span class="pl-k">await</span> <span class="pl-s1">session</span>.<span class="pl-c1">list_prompts</span>()
                
                            <span class="pl-c"># Get a prompt</span>
                            <span class="pl-s1">prompt</span> <span class="pl-c1">=</span> <span class="pl-k">await</span> <span class="pl-s1">session</span>.<span class="pl-c1">get_prompt</span>(<span class="pl-s">"example-prompt"</span>, <span class="pl-s1">arguments</span><span class="pl-c1">=</span>{<span class="pl-s">"arg1"</span>: <span class="pl-s">"value"</span>})
                
                            <span class="pl-s">"""</span>
                <span class="pl-s">            Other example calls include:</span>
                <span class="pl-s"></span>
                <span class="pl-s">            # List available resources</span>
                <span class="pl-s">            resources = await session.list_resources()</span>
                <span class="pl-s"></span>
                <span class="pl-s">            # List available tools</span>
                <span class="pl-s">            tools = await session.list_tools()</span>
                <span class="pl-s"></span>
                <span class="pl-s">            # Read a resource</span>
                <span class="pl-s">            resource = await session.read_resource("file://some/path")</span>
                <span class="pl-s"></span>
                <span class="pl-s">            # Call a tool</span>
                <span class="pl-s">            result = await session.call_tool("tool-name", arguments={"arg1": "value"})</span>
                <span class="pl-s">            """</span>
                
                <span class="pl-k">if</span> <span class="pl-s1">__name__</span> <span class="pl-c1">==</span> <span class="pl-s">"__main__"</span>:
                    <span class="pl-k">import</span> <span class="pl-s1">asyncio</span>
                    <span class="pl-s1">asyncio</span>.<span class="pl-c1">run</span>(<span class="pl-en">run</span>())</pre><div class="zeroclipboard-container">
                    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="from mcp import ClientSession, StdioServerParameters
                from mcp.client.stdio import stdio_client
                
                # Create server parameters for stdio connection
                server_params = StdioServerParameters(
                    command=&quot;python&quot;, # Executable
                    args=[&quot;example_server.py&quot;], # Optional command line arguments
                    env=None # Optional environment variables
                )
                
                async def run():
                    async with stdio_client(server_params) as (read, write):
                        async with ClientSession(read, write) as session:
                            # Initialize the connection
                            await session.initialize()
                
                            # The example server only supports prompt primitives:
                        
                            # List available prompts
                            prompts = await session.list_prompts()
                
                            # Get a prompt
                            prompt = await session.get_prompt(&quot;example-prompt&quot;, arguments={&quot;arg1&quot;: &quot;value&quot;})
                
                            &quot;&quot;&quot;
                            Other example calls include:
                
                            # List available resources
                            resources = await session.list_resources()
                
                            # List available tools
                            tools = await session.list_tools()
                
                            # Read a resource
                            resource = await session.read_resource(&quot;file://some/path&quot;)
                
                            # Call a tool
                            result = await session.call_tool(&quot;tool-name&quot;, arguments={&quot;arg1&quot;: &quot;value&quot;})
                            &quot;&quot;&quot;
                
                if __name__ == &quot;__main__&quot;:
                    import asyncio
                    asyncio.run(run())" tabindex="0" role="button">
                      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
                    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
                </svg>
                      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
                    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
                </svg>
                    </clipboard-copy>
                  </div></div>
                <div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Primitives</h2><a id="user-content-primitives" class="anchor" aria-label="Permalink: Primitives" href="#primitives"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
                <p dir="auto">The MCP Python SDK provides decorators that map to the core protocol primitives. Each primitive follows a different interaction pattern based on how it is controlled and used:</p>
                <markdown-accessiblity-table data-catalyst=""><table>
                <thead>
                <tr>
                <th>Primitive</th>
                <th>Control</th>
                <th>Description</th>
                <th>Example Use</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                <td>Prompts</td>
                <td>User-controlled</td>
                <td>Interactive templates invoked by user choice</td>
                <td>Slash commands, menu options</td>
                </tr>
                <tr>
                <td>Resources</td>
                <td>Application-controlled</td>
                <td>Contextual data managed by the client application</td>
                <td>File contents, API responses</td>
                </tr>
                <tr>
                <td>Tools</td>
                <td>Model-controlled</td>
                <td>Functions exposed to the LLM to take actions</td>
                <td>API calls, data updates</td>
                </tr>
                </tbody>
                </table></markdown-accessiblity-table>
                <div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">User-Controlled Primitives</h3><a id="user-content-user-controlled-primitives" class="anchor" aria-label="Permalink: User-Controlled Primitives" href="#user-controlled-primitives"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
                <p dir="auto"><strong>Prompts</strong> are designed to be explicitly selected by users for their interactions with LLMs.</p>
                <markdown-accessiblity-table data-catalyst=""><table>
                <thead>
                <tr>
                <th>Decorator</th>
                <th>Description</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                <td><code>@server.list_prompts()</code></td>
                <td>List available prompt templates</td>
                </tr>
                <tr>
                <td><code>@server.get_prompt()</code></td>
                <td>Get a specific prompt with arguments</td>
                </tr>
                </tbody>
                </table></markdown-accessiblity-table>
                <div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Application-Controlled Primitives</h3><a id="user-content-application-controlled-primitives" class="anchor" aria-label="Permalink: Application-Controlled Primitives" href="#application-controlled-primitives"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
                <p dir="auto"><strong>Resources</strong> are controlled by the client application, which decides how and when they should be used based on its own logic.</p>
                <markdown-accessiblity-table data-catalyst=""><table>
                <thead>
                <tr>
                <th>Decorator</th>
                <th>Description</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                <td><code>@server.list_resources()</code></td>
                <td>List available resources</td>
                </tr>
                <tr>
                <td><code>@server.read_resource()</code></td>
                <td>Read a specific resource's content</td>
                </tr>
                <tr>
                <td><code>@server.subscribe_resource()</code></td>
                <td>Subscribe to resource updates</td>
                </tr>
                </tbody>
                </table></markdown-accessiblity-table>
                <div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Model-Controlled Primitives</h3><a id="user-content-model-controlled-primitives" class="anchor" aria-label="Permalink: Model-Controlled Primitives" href="#model-controlled-primitives"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
                <p dir="auto"><strong>Tools</strong> are exposed to LLMs to enable automated actions, with user approval.</p>
                <markdown-accessiblity-table data-catalyst=""><table>
                <thead>
                <tr>
                <th>Decorator</th>
                <th>Description</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                <td><code>@server.list_tools()</code></td>
                <td>List available tools</td>
                </tr>
                <tr>
                <td><code>@server.call_tool()</code></td>
                <td>Execute a tool with arguments</td>
                </tr>
                </tbody>
                </table></markdown-accessiblity-table>
                <div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Server Management</h3><a id="user-content-server-management" class="anchor" aria-label="Permalink: Server Management" href="#server-management"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
                <p dir="auto">Additional decorators for server functionality:</p>
                <markdown-accessiblity-table data-catalyst=""><table>
                <thead>
                <tr>
                <th>Decorator</th>
                <th>Description</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                <td><code>@server.set_logging_level()</code></td>
                <td>Update server logging level</td>
                </tr>
                </tbody>
                </table></markdown-accessiblity-table>
                <div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Capabilities</h3><a id="user-content-capabilities" class="anchor" aria-label="Permalink: Capabilities" href="#capabilities"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
                <p dir="auto">MCP servers declare capabilities during initialization. These map to specific decorators:</p>
                <markdown-accessiblity-table data-catalyst=""><table>
                <thead>
                <tr>
                <th>Capability</th>
                <th>Feature Flag</th>
                <th>Decorators</th>
                <th>Description</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                <td><code>prompts</code></td>
                <td><code>listChanged</code></td>
                <td><code>@list_prompts</code><br><code>@get_prompt</code></td>
                <td>Prompt template management</td>
                </tr>
                <tr>
                <td><code>resources</code></td>
                <td><code>subscribe</code><br><code>listChanged</code></td>
                <td><code>@list_resources</code><br><code>@read_resource</code><br><code>@subscribe_resource</code></td>
                <td>Resource exposure and updates</td>
                </tr>
                <tr>
                <td><code>tools</code></td>
                <td><code>listChanged</code></td>
                <td><code>@list_tools</code><br><code>@call_tool</code></td>
                <td>Tool discovery and execution</td>
                </tr>
                <tr>
                <td><code>logging</code></td>
                <td>-</td>
                <td><code>@set_logging_level</code></td>
                <td>Server logging configuration</td>
                </tr>
                <tr>
                <td><code>completion</code></td>
                <td>-</td>
                <td><code>@complete_argument</code></td>
                <td>Argument completion suggestions</td>
                </tr>
                </tbody>
                </table></markdown-accessiblity-table>
                <p dir="auto">Capabilities are negotiated during connection initialization. Servers only need to implement the decorators for capabilities they support.</p>
                <div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Client Interaction</h2><a id="user-content-client-interaction" class="anchor" aria-label="Permalink: Client Interaction" href="#client-interaction"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
                <p dir="auto">The MCP Python SDK enables servers to interact with clients through request context and session management. This allows servers to perform operations like LLM sampling and progress tracking.</p>
                <div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Request Context</h3><a id="user-content-request-context" class="anchor" aria-label="Permalink: Request Context" href="#request-context"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
                <p dir="auto">The Request Context provides access to the current request and client session. It can be accessed through <code>server.request_context</code> and enables:</p>
                <ul dir="auto">
                <li>Sampling from the client's LLM</li>
                <li>Sending progress updates</li>
                <li>Logging messages</li>
                <li>Accessing request metadata</li>
                </ul>
                <p dir="auto">Example using request context for LLM sampling:</p>
                <div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-en">@<span class="pl-s1">server</span>.<span class="pl-c1">call_tool</span>()</span>
                <span class="pl-k">async</span> <span class="pl-k">def</span> <span class="pl-en">handle_call_tool</span>(<span class="pl-s1">name</span>: <span class="pl-smi">str</span>, <span class="pl-s1">arguments</span>: <span class="pl-smi">dict</span>) <span class="pl-c1">-&gt;</span> <span class="pl-s1">list</span>[<span class="pl-s1">types</span>.<span class="pl-c1">TextContent</span>]:
                    <span class="pl-c"># Access the current request context</span>
                    <span class="pl-s1">context</span> <span class="pl-c1">=</span> <span class="pl-s1">server</span>.<span class="pl-c1">request_context</span>
                
                    <span class="pl-c"># Use the session to sample from the client's LLM</span>
                    <span class="pl-s1">result</span> <span class="pl-c1">=</span> <span class="pl-k">await</span> <span class="pl-s1">context</span>.<span class="pl-c1">session</span>.<span class="pl-c1">create_message</span>(
                        <span class="pl-s1">messages</span><span class="pl-c1">=</span>[
                            <span class="pl-s1">types</span>.<span class="pl-c1">SamplingMessage</span>(
                                <span class="pl-s1">role</span><span class="pl-c1">=</span><span class="pl-s">"user"</span>,
                                <span class="pl-s1">content</span><span class="pl-c1">=</span><span class="pl-s1">types</span>.<span class="pl-c1">TextContent</span>(
                                    <span class="pl-s1">type</span><span class="pl-c1">=</span><span class="pl-s">"text"</span>,
                                    <span class="pl-s1">text</span><span class="pl-c1">=</span><span class="pl-s">"Analyze this data: "</span> <span class="pl-c1">+</span> <span class="pl-s1">json</span>.<span class="pl-c1">dumps</span>(<span class="pl-s1">arguments</span>)
                                )
                            )
                        ],
                        <span class="pl-s1">max_tokens</span><span class="pl-c1">=</span><span class="pl-c1">100</span>
                    )
                
                    <span class="pl-k">return</span> [<span class="pl-s1">types</span>.<span class="pl-c1">TextContent</span>(<span class="pl-s1">type</span><span class="pl-c1">=</span><span class="pl-s">"text"</span>, <span class="pl-s1">text</span><span class="pl-c1">=</span><span class="pl-s1">result</span>.<span class="pl-c1">content</span>.<span class="pl-c1">text</span>)]</pre><div class="zeroclipboard-container">
                    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="@server.call_tool()
                async def handle_call_tool(name: str, arguments: dict) -> list[types.TextContent]:
                    # Access the current request context
                    context = server.request_context
                
                    # Use the session to sample from the client's LLM
                    result = await context.session.create_message(
                        messages=[
                            types.SamplingMessage(
                                role=&quot;user&quot;,
                                content=types.TextContent(
                                    type=&quot;text&quot;,
                                    text=&quot;Analyze this data: &quot; + json.dumps(arguments)
                                )
                            )
                        ],
                        max_tokens=100
                    )
                
                    return [types.TextContent(type=&quot;text&quot;, text=result.content.text)]" tabindex="0" role="button">
                      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
                    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
                </svg>
                      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
                    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
                </svg>
                    </clipboard-copy>
                  </div></div>
                <p dir="auto">Using request context for progress updates:</p>
                <div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-en">@<span class="pl-s1">server</span>.<span class="pl-c1">call_tool</span>()</span>
                <span class="pl-k">async</span> <span class="pl-k">def</span> <span class="pl-en">handle_call_tool</span>(<span class="pl-s1">name</span>: <span class="pl-smi">str</span>, <span class="pl-s1">arguments</span>: <span class="pl-smi">dict</span>) <span class="pl-c1">-&gt;</span> <span class="pl-s1">list</span>[<span class="pl-s1">types</span>.<span class="pl-c1">TextContent</span>]:
                    <span class="pl-s1">context</span> <span class="pl-c1">=</span> <span class="pl-s1">server</span>.<span class="pl-c1">request_context</span>
                
                    <span class="pl-k">if</span> <span class="pl-s1">progress_token</span> <span class="pl-c1">:=</span> <span class="pl-s1">context</span>.<span class="pl-c1">meta</span>.<span class="pl-c1">progressToken</span>:
                        <span class="pl-c"># Send progress notifications</span>
                        <span class="pl-k">await</span> <span class="pl-s1">context</span>.<span class="pl-c1">session</span>.<span class="pl-c1">send_progress_notification</span>(
                            <span class="pl-s1">progress_token</span><span class="pl-c1">=</span><span class="pl-s1">progress_token</span>,
                            <span class="pl-s1">progress</span><span class="pl-c1">=</span><span class="pl-c1">0.5</span>,
                            <span class="pl-s1">total</span><span class="pl-c1">=</span><span class="pl-c1">1.0</span>
                        )
                
                    <span class="pl-c"># Perform operation...</span>
                
                    <span class="pl-k">if</span> <span class="pl-s1">progress_token</span>:
                        <span class="pl-k">await</span> <span class="pl-s1">context</span>.<span class="pl-c1">session</span>.<span class="pl-c1">send_progress_notification</span>(
                            <span class="pl-s1">progress_token</span><span class="pl-c1">=</span><span class="pl-s1">progress_token</span>,
                            <span class="pl-s1">progress</span><span class="pl-c1">=</span><span class="pl-c1">1.0</span>,
                            <span class="pl-s1">total</span><span class="pl-c1">=</span><span class="pl-c1">1.0</span>
                        )
                
                    <span class="pl-k">return</span> [<span class="pl-s1">types</span>.<span class="pl-c1">TextContent</span>(<span class="pl-s1">type</span><span class="pl-c1">=</span><span class="pl-s">"text"</span>, <span class="pl-s1">text</span><span class="pl-c1">=</span><span class="pl-s">"Operation complete"</span>)]</pre><div class="zeroclipboard-container">
                    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="@server.call_tool()
                async def handle_call_tool(name: str, arguments: dict) -> list[types.TextContent]:
                    context = server.request_context
                
                    if progress_token := context.meta.progressToken:
                        # Send progress notifications
                        await context.session.send_progress_notification(
                            progress_token=progress_token,
                            progress=0.5,
                            total=1.0
                        )
                
                    # Perform operation...
                
                    if progress_token:
                        await context.session.send_progress_notification(
                            progress_token=progress_token,
                            progress=1.0,
                            total=1.0
                        )
                
                    return [types.TextContent(type=&quot;text&quot;, text=&quot;Operation complete&quot;)]" tabindex="0" role="button">
                      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
                    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
                </svg>
                      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
                    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
                </svg>
                    </clipboard-copy>
                  </div></div>
                <p dir="auto">The request context is automatically set for each request and provides a safe way to access the current client session and request metadata.</p>
                <div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Documentation</h2><a id="user-content-documentation" class="anchor" aria-label="Permalink: Documentation" href="#documentation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
                <ul dir="auto">
                <li><a href="https://modelcontextprotocol.io" rel="nofollow">Model Context Protocol documentation</a></li>
                <li><a href="https://spec.modelcontextprotocol.io" rel="nofollow">Model Context Protocol specification</a></li>
                <li><a href="https://github.com/modelcontextprotocol/servers">Officially supported servers</a></li>
                </ul>
                <div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Contributing</h2><a id="user-content-contributing" class="anchor" aria-label="Permalink: Contributing" href="#contributing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
                <p dir="auto">We are passionate about supporting contributors of all levels of experience and would love to see you get involved in the project. See the <a href="/modelcontextprotocol/python-sdk/blob/main/CONTRIBUTING.md">contributing guide</a> to get started.</p>
                <div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">License</h2><a id="user-content-license" class="anchor" aria-label="Permalink: License" href="#license"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
                <p dir="auto">This project is licensed under the MIT License - see the LICENSE file for details.</p>
                </article>
        </body> 

</html>